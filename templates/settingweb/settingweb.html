{% extends 'main.html' %}

{% block title %}
    SETTING APP
{% endblock title %}

{% block content %}

<div class="card border-dark bg-light my-1">
    <p class="card-header h3 text-white bg-dark">SETTING</p>

    <form id="form_update" method="post" action="{% url 'settingweb:update'%}" class="fw-bold p-4">
        {% csrf_token %}
      
        <div class="mb-3">
            <label class="form-label" for="exampleFormControlInput1">Key Banner</label>
            <input
                name="banner"
                type="text"
                value="{{settingweb.ads_key_banner}}"
                class="form-control"
                {%if able == '0' %}
                    disabled
                {%endif%}
                required
                id="exampleFormControlInput1"
            />
        </div>
        <div class="row g-3 mb-3">
            <div class="form-group col-md-9">
                <label class="form-label" for="exampleFormControlInput1">Key Interstial</label>
                <input
                    name="interstial"
                    type="text"
                    value="{{settingweb.ads_key_interstial}}"
                    class="form-control"
                    {%if able == '0' %}
                        disabled
                    {%endif%}
                    required
                    id="exampleFormControlInput1"
                />
            </div>
            <div class="form-group col-md-3">
                <label class="form-label" for="exampleFormControlInput1">Display Count</label>
                <input
                    name="count"
                    type="number"
                    min="0"
                    step="1"
                    {%if able == '0' %}
                        disabled
                    {%endif%}
                    required
                    class="form-control"
                    value="{{settingweb.ad_display_count}}"
                    id="exampleFormControlInput1"
                />
            </div>
        </div>
      
        <label class="d-block form-label" for="exampleFormControlInput1">Key Openads</label>    
        <div class="row g-3 mb-3">
            <div class="form-group col">
                <input
                    id="txt_url"
                    name="openads"
                    type="text"
                    class="d-inline form-control"
                    value="{{settingweb.ads_key_openads}}"
                    {%if able == '0' %}
                        disabled
                    {%endif%}
                    required
                    id="exampleFormControlInput1"
                />
            </div>
        </div>

        <label class="d-block form-label" for="exampleFormControlInput1">Onesignal App ID</label>    
        <div class="row g-3 mb-3">
            <div class="form-group col">
                <input
                    id="onesignal_app_id"
                    name="onesignal_app_id"
                    type="text"
                    class="d-inline form-control"
                    value="{{settingweb.onesignal_app_id}}"
                    {%if able == '0' %}
                        disabled
                    {%endif%}
                    required
                    id="exampleFormControlInput1"
                />
            </div>
        </div>

        <label class="d-block form-label" for="exampleFormControlInput1">Onesignal Rest API</label>    
        <div class="row g-3 mb-3">
            <div class="form-group col">
                <input
                    id="onesignal_rest_api"
                    name="onesignal_rest_api"
                    type="text"
                    class="d-inline form-control"
                    value="{{settingweb.onesignal_rest_api}}"
                    {%if able == '0' %}
                        disabled
                    {%endif%}
                    required
                    id="exampleFormControlInput1"
                />
            </div>
        </div>

        <label class="d-block form-label" for="exampleFormControlInput1">Video Trending(ID)</label>    
        <div class="row g-3 mb-3">
            <div class="form-group col-md-10">
                <input
                    name="vid_trend"
                    type="text"
                    class="d-inline form-control"
                    value="{{settingweb.arr_Vid_trend}}"
                    readonly = "readonly"
                    required
                    id="exampleFormControlInput1"
                />
            </div>
            {%if able != '0' %}
            <div class="form-group col d-flex flex-row align-items-center justify-content-center">            
                <a  href="{%url 'settingweb:choice' type=1%}" class="btn btn-primary w-100">Change</a>
            </div>
            {%endif%}
        </div>
        <label class="d-block form-label" for="exampleFormControlInput1">TV Trending(ID)</label>    
        <div class="row g-3 mb-3">
            <div class="form-group col-md-10">
                <input
                    name="tv_trend"
                    type="text"
                    class="d-inline form-control"
                    value="{{settingweb.arr_TV_trend}}"
                    readonly = "readonly"
                    required
                    id="exampleFormControlInput1"
                />
            </div>
            {%if able != '0' %}
            <div class="form-group col d-flex flex-row align-items-center justify-content-center">  
                <a href="{%url 'settingweb:choice' type=2%}" class="btn btn-warning w-100">Change</a>              
            </div>
            {%endif%}
        </div>
        <label class="d-block form-label" for="exampleFormControlInput1">Radio Trending(ID)</label>    
        <div class="row g-3 mb-3">
            <div class="form-group col-md-10">
                <input
                    name="radio_trend"
                    type="text"
                    class="d-inline form-control"
                    value="{{settingweb.arr_Radi_trend}}"
                    readonly = "readonly"
                    required
                    id="exampleFormControlInput1"
                />
            </div>
            {%if able != '0' %}
            <div class="form-group col d-flex flex-row align-items-center justify-content-center">            
                <a href="{%url 'settingweb:choice' type=3%}"  class="btn btn-success w-100">Change</a>
            </div>
            {%endif%}
        </div>
        <div
            class="d-flex mt-4 flex-row justify-content-start align-items-center"
        >
            {%if able != '0' %}
                <input type="submit" class="btn btn-primary me-2" value="Save"/>
            {%endif%}
            {%if able == '0' %}
                <a type="button" href="{% url 'settingweb:setting' 1%}" class="btn btn-success" value="EDIT">Edit</a>
            {%else%}
                <a type="button" href="{% url 'settingweb:setting' 0%}" class="btn btn-danger" value="Cancel">Cancel</a>
            {%endif%}
        </div>
    </form>
    <form id="form_check" method="post" action="">
        {% csrf_token %}
        <input type="hidden" name="url" id="hidden_url">
    </form>
</div>

<script>


    form_update = document.getElementById("form_update");

    form_check = document.getElementById("form_check");
    hidden_url = document.getElementById("hidden_url");

    form_check.onsubmit = function(e){
        e.preventDefault();
    }

    //form_update.onsubmit = function(e){
       // e.preventDefault();
    //}

    document.getElementById("image_picker").onchange = function () {
        var reader = new FileReader();
    
        reader.onload = function (e) {
            // get loaded data and render thumbnail.
            document.getElementById("image").src = e.target.result;
        };
    
        // read the image file as a data URL.
        reader.readAsDataURL(this.files[0]);
    };

    function validURL(str) {
        var pattern = new RegExp('^(https?:\\/\\/)?'+ // protocol
          '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // domain name
          '((\\d{1,3}\\.){3}\\d{1,3}))'+ // OR ip (v4) address
          '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ // port and path
          '(\\?[;&a-z\\d%_.~+=-]*)?'+ // query string
          '(\\#[-a-z\\d_]*)?$','i'); // fragment locator
        return !!pattern.test(str);
      }
</script>

    
{% endblock content %}
